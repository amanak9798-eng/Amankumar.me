<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <div id="head-placeholder"></div>
    <script src="js/main.js" defer></script>
</head>
<body class="transition-colors duration-300">

<div id="header-placeholder"></div>

    <main class="container mx-auto px-6">

        <!-- Hero Section -->
        <section id="home" class="py-20 md:py-32 flex flex-col-reverse md:flex-row items-center gap-12">
            <div class="md:w-2/3 text-center md:text-left">
                <h1 class="text-4xl md:text-6xl font-extrabold text-text-primary mt-2 mb-4 leading-tight">
                    Hi, I'm Aman Kumar
                </h1>
                <h2 class="text-xl md:text-2xl text-text-secondary mb-8 max-w-2xl mx-auto md:mx-0 min-h-[64px] md:min-h-[32px]">
                   I leverage <span id="typing-effect" class="text-primary-500 font-bold"></span>
                </h2>
                <div class="flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4">
                    <a href="#contact" class="w-full sm:w-auto bg-primary-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-primary-700 transition-transform duration-300 hover:scale-105 shadow-lg text-center">
                        Get In Touch
                    </a>
                    <a href="#" class="w-full sm:w-auto border-2 border-slate-300 dark:border-slate-600 text-text-secondary font-bold px-6 py-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-300 flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                        LinkedIn
                    </a>
                </div>
            </div>
            <div class="md:w-1/3">
                <img src="profile img.png" alt="A professional headshot of Aman Kumar" class="rounded-full shadow-2xl mx-auto border-8 border-card-background object-cover w-48 h-48 md:w-64 md:h-64">
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-20 md:py-24">
            <div class="grid md:grid-cols-5 gap-12 items-start">
                <div class="md:col-span-3 reveal">
                    <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-6">About Me</h2>
                    <div class="text-lg text-text-secondary space-y-4">
                        <p>I am a detail-oriented professional with a strong foundation in both marketing analytics and financial principles. My passion lies at the intersection of these two fields—using data to understand customer behavior not just to drive engagement, but to directly impact the bottom line.</p>
                        <p>Whether it's dissecting campaign ROI, analyzing marketing spend for efficiency, or optimizing user funnels for profitability, I thrive on translating complex datasets into clear, actionable strategies. I believe the most successful marketing efforts are those that are both creative and financially sound.</p>
                    </div>
                </div>
                <div class="md:col-span-2 reveal">
                    <h3 class="text-2xl font-bold text-text-primary mb-6">Core Skills</h3>
                    <ul class="space-y-4">
                        <li class="flex items-center gap-3"><svg class="w-6 h-6 text-primary-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6a7.5 7.5 0 100 15 7.5 7.5 0 000-15z" /><path stroke-linecap="round" stroke-linejoin="round" d="M12 10.5h.01" /></svg> <span class="text-text-secondary font-medium">Marketing Analytics</span></li>
                        <li class="flex items-center gap-3"><svg class="w-6 h-6 text-primary-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" /></svg> <span class="text-text-secondary font-medium">Financial & ROI Analysis</span></li>
                        <li class="flex items-center gap-3"><svg class="w-6 h-6 text-primary-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.311a7.5 7.5 0 01-7.5 0" /></svg> <span class="text-text-secondary font-medium">Product Strategy</span></li>
                        <li class="flex items-center gap-3"><svg class="w-6 h-6 text-primary-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125" /></svg> <span class="text-text-secondary font-medium">UI/UX Audits</span></li>
                        <li class="flex items-center gap-3"><svg class="w-6 h-6 text-primary-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h15.75c.621 0 1.125.504 1.125 1.125v6.75C21 20.496 20.496 21 19.875 21H4.125A1.125 1.125 0 013 19.875v-6.75zM12 3v10.125" /></svg> <span class="text-text-secondary font-medium">Data Visualization (Excel, PowerBI)</span></li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Experience Section -->
        <section id="experience" class="py-12 md:py-24">
            <div class="text-center reveal">
                <h2 class="text-3xl md:text-4xl font-bold text-text-primary">Professional Experience</h2>
                <p class="text-lg text-text-secondary mt-4 max-w-2xl mx-auto">My journey in marketing, finance, and analytics.</p>
            </div>
            <div class="mt-16 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <!-- Cards remain the same -->
                 <div class="reveal bg-card-background p-6 rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 flex flex-col">
                    <div class="flex items-start justify-between">
                        <div>
                            <h3 class="text-xl font-bold text-text-primary">Finance Intern</h3>
                            <p class="text-md text-text-secondary">Bulls and Bear Advisory</p>
                        </div>
                        <span class="text-sm font-semibold text-primary-500 whitespace-nowrap">Jul 2025 - Sep 2025</span>
                    </div>
                    <ul class="mt-4 text-text-secondary space-y-2 list-disc list-inside flex-grow">
                        <li>Achieved 8% portfolio growth on a demo account.</li>
                        <li>Developed financial models that informed strategic market decisions.</li>
                        <li>Gained analytical rigor that now supports product/market analysis.</li>
                    </ul>
                    <div class="mt-6 pt-4 border-t border-border-color">
                         <h4 class="text-sm font-semibold text-text-primary mb-3">Skills Used:</h4>
                         <div class="flex flex-wrap gap-2">
                             <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Financial Modeling</span>
                             <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Market Analysis</span>
                             <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Data Analytics</span>
                         </div>
                    </div>
                </div>
                <div class="reveal bg-card-background p-6 rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 flex flex-col">
                    <div class="flex items-start justify-between">
                        <div>
                            <h3 class="text-xl font-bold text-text-primary">Travel Consultant</h3>
                            <p class="text-md text-text-secondary">Get Trip GO</p>
                        </div>
                        <span class="text-sm font-semibold text-primary-500 whitespace-nowrap">Nov 2022 - Feb 2024</span>
                    </div>
                    <ul class="mt-4 text-text-secondary space-y-2 list-disc list-inside flex-grow">
                        <li>Managed over 300 clients and built 50+ vendor partnerships.</li>
                        <li>Boosted sales by 25% through strategic marketing and customer engagement.</li>
                        <li>Achieved 95% client satisfaction via consultative selling techniques.</li>
                    </ul>
                    <div class="mt-6 pt-4 border-t border-border-color">
                         <h4 class="text-sm font-semibold text-text-primary mb-3">Skills Used:</h4>
                         <div class="flex flex-wrap gap-2">
                            <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Strategic Marketing</span>
                            <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Sales</span>
                            <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Client Relations</span>
                         </div>
                    </div>
                </div>
                <div class="reveal bg-card-background p-6 rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 flex flex-col">
                    <div class="flex items-start justify-between">
                        <div>
                            <h3 class="text-xl font-bold text-text-primary">Job Trainee</h3>
                            <p class="text-md text-text-secondary">Indus Vacations Pvt Ltd</p>
                        </div>
                        <span class="text-sm font-semibold text-primary-500 whitespace-nowrap">Jul 2022 - Aug 2022</span>
                    </div>
                    <ul class="mt-4 text-text-secondary space-y-2 list-disc list-inside flex-grow">
                        <li>Coordinated travel solutions for 10-15 clients weekly.</li>
                        <li>Developed strong customer service and problem-solving skills.</li>
                    </ul>
                     <div class="mt-6 pt-4 border-t border-border-color">
                         <h4 class="text-sm font-semibold text-text-primary mb-3">Skills Used:</h4>
                         <div class="flex flex-wrap gap-2">
                             <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Customer Service</span>
                             <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Coordination</span>
                         </div>
                    </div>
                </div>
                <div class="reveal bg-card-background p-6 rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 flex flex-col">
                    <div class="flex items-start justify-between">
                        <div>
                            <h3 class="text-xl font-bold text-text-primary">Industrial Training</h3>
                            <p class="text-md text-text-secondary">The Fern Residency</p>
                        </div>
                        <span class="text-sm font-semibold text-primary-500 whitespace-nowrap">Jan 2021 - May 2021</span>
                    </div>
                    <ul class="mt-4 text-text-secondary space-y-2 list-disc list-inside flex-grow">
                        <li>Assisted in event coordination and stakeholder management.</li>
                        <li>Gained hands-on experience in hospitality operations.</li>
                    </ul>
                    <div class="mt-6 pt-4 border-t border-border-color">
                         <h4 class="text-sm font-semibold text-text-primary mb-3">Skills Used:</h4>
                         <div class="flex flex-wrap gap-2">
                             <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Event Coordination</span>
                             <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Hospitality</span>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Case Study Section -->
        <section id="case-studies" class="py-20 md:py-24">
            <div class="text-center reveal">
                <h2 class="text-3xl md:text-4xl font-bold text-text-primary">Featured Case Study</h2>
                <p class="text-lg text-text-secondary mt-4 max-w-2xl mx-auto">A look at how I solve real-world business problems.</p>
            </div>
            <div class="mt-16">
                <!-- KPI cards remain the same -->
                 <div class="reveal bg-card-background rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 overflow-hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 items-center">
                        <div class="md:order-2">
                            <img class="h-64 w-full object-cover md:h-full" src="https://placehold.co/800x600/3b82f6/ffffff?text=E-commerce" alt="Dashboard showing e-commerce analytics for cart abandonment">
                        </div>
                        <div class="md:order-1 p-8 md:p-12">
                            <span class="text-sm font-semibold text-primary-500">E-commerce Analytics</span>
                            <h3 class="text-2xl lg:text-3xl font-bold text-text-primary mt-2">Reducing Cart Abandonment</h3>
                            <p class="mt-4 text-text-secondary">A local e-commerce store struggled with a high cart abandonment rate. I conducted a full UI/UX audit, analyzed user behavior, and redesigned the checkout flow to reduce friction.</p>
                            <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div class="bg-slate-50 dark:bg-slate-800 p-4 rounded-lg flex items-center gap-3">
                                    <div class="bg-green-100 dark:bg-green-900/50 p-2 rounded-full">
                                        <svg class="w-6 h-6 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-2xl font-bold text-text-primary">-20%</p>
                                        <p class="text-sm text-text-secondary">Cart Abandonment</p>
                                    </div>
                                </div>
                                <div class="bg-slate-50 dark:bg-slate-800 p-4 rounded-lg flex items-center gap-3">
                                    <div class="bg-green-100 dark:bg-green-900/50 p-2 rounded-full">
                                        <svg class="w-6 h-6 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                                          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75l.938 1.125A2.25 2.25 0 005.25 15h13.5a2.25 2.25 0 002.063-3.125l-.938-1.125m-17.552 0l.938-1.125A2.25 2.25 0 015.25 7.5h13.5a2.25 2.25 0 012.063 3.125l-.938 1.125" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-2xl font-bold text-text-primary">+5%</p>
                                        <p class="text-sm text-text-secondary">Avg. Order Value</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-8 pt-4 border-t border-border-color">
                                 <h4 class="text-sm font-semibold text-text-primary mb-3">Tools Used:</h4>
                                 <div class="flex flex-wrap gap-2">
                                     <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Google Analytics</span>
                                     <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">Figma</span>
                                     <span class="bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300 text-xs font-medium px-3 py-1 rounded-full">UX Audit</span>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
             <div class="text-center mt-12 reveal">
                <a href="/case-studies.html" class="bg-primary-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-primary-700 transition-transform duration-300 hover:scale-105 shadow-lg">
                    View All Case Studies &rarr;
                </a>
            </div>
        </section>

        <!-- Featured Projects Section -->
        <section id="projects" class="py-20 md:py-24">
            <div class="text-center reveal">
                <h2 class="text-3xl md:text-4xl font-bold text-text-primary">Featured Projects</h2>
                <p class="text-lg text-text-secondary mt-4 max-w-2xl mx-auto">A sample of my explorations in data and technology.</p>
            </div>
            <div class="mt-16 grid md:grid-cols-2 gap-8">
                <!-- Project 1 -->
                <div class="reveal bg-card-background rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 flex flex-col">
                    <img src="Dashboard-thumbnail.png" alt="Thumbnail of an interactive sales dashboard created in Excel" class="rounded-t-lg object-cover">
                    <div class="p-6 flex flex-col flex-grow">
                        <h3 class="text-xl font-bold text-text-primary mb-2">Interactive Sales Dashboard</h3>
                        <p class="text-text-secondary mb-4 flex-grow">An advanced Excel dashboard visualizing sales data across regions and products. Features dynamic filters and KPI tracking.</p>
                        <a href="https://github.com/amanak9798-eng/Excel-Sales-Dashboard" class="font-semibold text-primary-500 hover:underline self-start">View on GitHub &rarr;</a>
                    </div>
                </div>
                 <!-- Project 2 -->
                <div class="reveal bg-card-background rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 flex flex-col">
                    <img src="website portfolio.png" alt="Thumbnail of a professional portfolio website project" class="rounded-t-lg object-cover">
                    <div class="p-6 flex flex-col flex-grow">
                        <h3 class="text-xl font-bold text-text-primary mb-2">Professional Portfolio Website</h3>
                        <p class="text-text-secondary mb-4 flex-grow">A responsive, modern portfolio built from scratch featuring interactive AI integrations via the Gemini API to engage potential clients.</p>
                        <a href="#" class="font-semibold text-primary-500 hover:underline self-start">View on GitHub &rarr;</a>
                    </div>
                </div>
            </div>
            <div class="text-center mt-12 reveal">
                 <a href="/projects.html" class="bg-primary-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-primary-700 transition-transform duration-300 hover:scale-105 shadow-lg">
                    View All Projects &rarr;
                </a>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 md:py-32 bg-slate-100 dark:bg-slate-800/50 -mx-6 px-6 rounded-t-3xl">
            <div class="text-center max-w-3xl mx-auto reveal">
                <h2 class="text-3xl md:text-4xl font-bold text-text-primary">Have a Challenge? Let's Solve It.</h2>
                <p class="text-lg text-text-secondary mt-4">Describe your business challenge below, and my AI assistant will instantly draft a custom pitch outlining how I can help.</p>
                <div class="mt-8 flex flex-col items-center gap-4">
                     <textarea id="problem-description" placeholder="e.g., 'Our user sign-up rate has dropped by 15% last month and we don't know why.'" class="w-full max-w-md px-4 py-3 rounded-lg border border-border-color bg-card-background text-text-primary focus:ring-2 focus:ring-primary-500 focus:outline-none transition h-28 resize-none"></textarea>
                     <button id="generate-pitch-btn" class="bg-primary-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-primary-700 transition-transform duration-300 hover:scale-105 shadow-lg flex items-center justify-center gap-2">
                        ✨ Generate Custom Pitch
                    </button>
                    <div id="pitch-response-container" class="w-full max-w-md mt-4 text-left"></div>
                </div>
                 <div class="mt-12 text-center">
                    <p class="text-text-secondary">Or, feel free to reach out directly.</p>
                    <a href="mailto:amanak9798@example.com" class="font-bold text-primary-600 dark:text-primary-400 hover:underline text-lg">
                        amanak9798@example.com
                    </a>
                </div>
            </div>
        </section>
    </main>
    
<div id="footer-placeholder"></div>

    <script>
        // --- Theme Toggle ---
        // (JavaScript remains the same)
        const themeToggleBtn = document.getElementById('theme-toggle');
        const darkIcon = document.getElementById('theme-toggle-dark-icon');
        const lightIcon = document.getElementById('theme-toggle-light-icon');

        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            lightIcon.classList.remove('hidden');
        } else {
            document.documentElement.classList.remove('dark');
            darkIcon.classList.remove('hidden');
        }

        themeToggleBtn.addEventListener('click', function() {
            darkIcon.classList.toggle('hidden');
            lightIcon.classList.toggle('hidden');
            if (localStorage.getItem('color-theme')) {
                if (localStorage.getItem('color-theme') === 'light') {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                } else {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                }
            } else {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                }
            }
        });

        // --- Mobile Menu Toggle ---
        // (JavaScript remains the same)
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', (e) => {
                 mobileMenu.classList.add('hidden');
            });
        });

        // --- Scroll Animations ---
        // (JavaScript remains the same)
        const revealElements = document.querySelectorAll('.reveal');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });
        revealElements.forEach(el => observer.observe(el));
        
        // --- Typing Effect ---
        document.addEventListener('DOMContentLoaded', function () {
            new Typed('#typing-effect', {
                strings: [
                    'data analytics to drive growth.',
                    'strategic insights to optimize performance.',
                    'product strategy to enhance user experience.'
                ],
                typeSpeed: 50,
                backSpeed: 25,
                backDelay: 2000,
                startDelay: 500,
                loop: true,
            });
        });


        // --- Secure Gemini API Integration ---
        async function callGeminiAPI(prompt) {
            try {
                const response = await fetch('/api/generate-pitch', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ prompt: prompt })
                });

                if (!response.ok) {
                    const errorResult = await response.json();
                    console.error('API Error:', errorResult.message);
                    return `Sorry, there was an error: ${errorResult.message}`;
                }

                const result = await response.json();
                return result.text;

            } catch (error) {
                console.error('Network or other error:', error);
                return "Sorry, there was a network error. Please try again later.";
            }
        }
        
        const generatePitchBtn = document.getElementById('generate-pitch-btn');
        const problemDescription = document.getElementById('problem-description');
        const pitchResponseContainer = document.getElementById('pitch-response-container');

        generatePitchBtn.addEventListener('click', async () => {
            const clientProblem = problemDescription.value.trim();
            if (!clientProblem) {
                pitchResponseContainer.innerHTML = `<p class="text-red-500 text-center">Please describe your business challenge.</p>`;
                return;
            }
            generatePitchBtn.disabled = true;
            pitchResponseContainer.innerHTML = '<div class="loader mx-auto"></div>';
            const prompt = `Act as a freelance marketing and product strategist named Aman. A potential client has described their challenge: "${clientProblem}". Based on this, write a **short, impactful, and convincing pitch**. The pitch itself should be **no more than 3-4 sentences**. It must directly address their problem and propose my expertise as the clear solution. The tone should be confident and professional. IMPORTANT: After the short pitch, add a final, standalone paragraph that is a clear call to action, such as: "I am confident I can deliver value here. Would you be open to a brief 15-minute call next week to discuss this further?". Do not offer any purely financial services.`;
            const aiResponse = await callGeminiAPI(prompt);
            const paragraphs = aiResponse.split('\n').filter(p => p.trim() !== '');
            const formattedResponse = paragraphs.map(p => `<p class="mb-3">${p.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')}</p>`).join('');
            pitchResponseContainer.innerHTML = `
                <div class="ai-response p-4 rounded-lg"><div id="pitch-text">${formattedResponse}</div></div>
                <div class="mt-4 text-center" id="feedback-prompt">
                    <p class="text-sm text-text-secondary mb-3">Can I help you further?</p>
                    <div class="flex justify-center items-center gap-4">
                        <button class="feedback-btn-yes font-semibold bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors duration-300">Yes</button>
                        <button class="feedback-btn-no font-semibold bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors duration-300">No</button>
                    </div>
                </div>
                <div id="pitch-contact-form" class="hidden mt-6 p-4 rounded-lg bg-card-background border border-border-color">
                    <h4 class="font-bold text-text-primary text-center">Great! Let's connect.</h4>
                    <p class="text-sm text-text-secondary mb-4 text-center">Please provide your details below to proceed.</p>
                    <form id="contact-submission-form">
                        <input type="hidden" id="hidden-pitch" name="pitch"><input type="hidden" id="hidden-problem" name="client_problem">
                        <div class="space-y-3">
                            <input type="text" name="name" placeholder="Your Name" class="w-full px-3 py-2 rounded-md border border-border-color bg-background focus:ring-1 focus:ring-primary-500 focus:outline-none" required>
                            <input type="email" name="email" placeholder="Your Email" class="w-full px-3 py-2 rounded-md border border-border-color bg-background focus:ring-1 focus:ring-primary-500 focus:outline-none" required>
                            <button type="submit" class="w-full bg-primary-600 text-white font-bold py-2 rounded-md hover:bg-primary-700 transition-colors">Submit & Request Call</button>
                        </div>
                    </form>
                </div>
                 <div id="form-success-message" class="hidden mt-6 text-center p-4 rounded-lg bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300"><p class="font-semibold">Thank you! I'll be in touch shortly.</p></div>`;
            generatePitchBtn.disabled = false;
            document.querySelector('.feedback-btn-yes').addEventListener('click', () => {
                document.getElementById('feedback-prompt').classList.add('hidden');
                document.getElementById('pitch-contact-form').classList.remove('hidden');
                document.getElementById('hidden-pitch').value = document.getElementById('pitch-text').innerText;
                document.getElementById('hidden-problem').value = document.getElementById('problem-description').value;
            });
            document.querySelector('.feedback-btn-no').addEventListener('click', () => {
                document.getElementById('feedback-prompt').innerHTML = `<p class="text-sm text-secondary text-center">Thank you for your time.</p>`;
            });
            document.getElementById('contact-submission-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const form = e.target;
                const data = new FormData(form);
                const formspreeURL = 'https://formspree.io/f/xqaynwzp';
                if (!formspreeURL) {
                     console.log("Lead Captured (local):", Object.fromEntries(data.entries()));
                     document.getElementById('pitch-contact-form').classList.add('hidden');
                     document.getElementById('form-success-message').classList.remove('hidden');
                     return;
                }
                fetch(formspreeURL, {
                    method: 'POST', body: data, headers: { 'Accept': 'application/json' }
                }).then(response => {
                    if (response.ok) {
                        document.getElementById('pitch-contact-form').classList.add('hidden');
                        document.getElementById('form-success-message').classList.remove('hidden');
                        form.reset();
                    } else { alert('Oops! There was a problem submitting your form. Please try again.'); }
                }).catch(error => { alert('Oops! There was a network error. Please try again.'); });
            });
        });
    </script>
</body>
</html>

